
% JuliaCon proceedings template
\documentclass{juliacon}
\setcounter{page}{1}
\usepackage{amsmath,booktabs,mathtools,amssymb}
\newcommand{\term}[1]{\emph{#1}}
\newcommand{\ManifoldsBaseVersion}{2.0}

\hypersetup{colorlinks=true}
%
\begin{document}

\input{header}
% TODO : How to specify an email-address?
\maketitle

\begin{abstract}
    We present an overview about the interface of the Julia package \texttt{ManifoldsBase.jl}
    to define and work with manifolds in Julia.
    The package is a central component of the \texttt{JuliaManifolds} ecosystem and is used by
    nearly all other packages in the ecosystem and several packages in the Julia community.

    We discuss the main design ideas of the interface and present an overview of the features
    and functions provided in \verb|ManifoldsBase.jl| \ManifoldsBaseVersion.
\end{abstract}
%
\section{Introduction}%
\label{sec:Introduction}
%
In many scenarios one encounters data that does not lie in a Euclidean space.
Informally phrased, for certain data, we are not allowed do just add or scale them.
Examples are rotations, data on spheres, in hyperbolic spaces, like when working with general relativity,
symmetric positive definite matrices, like when working with covariance matrices,
or when the data is either bases of subspaces or subspaces themselves, i.e.\ data on the
Stiefel or Grassmann manifold.
The data of interest for this paper still bear enough “structure”, i.e. they live on smooth manifolds.

In a prior paper about \verb|Manifolds.jl|~\cite{AxenBaranBergmannRzecki:2023}, a partial presentation of the interface
of \verb|ManifoldsBase.jl| was given, when the interface was still in an early stage.
A few fundamental design decissions have changed since then.
\\
This paper presents the current state of the interface of \verb|ManifoldsBase.jl| \ManifoldsBaseVersion,
since that state can be considered as having reached a very stable state.
The paper is organized as follows: in Section~\ref{sec:Notation} we introduce the mathematical background and notation.
In Section~\ref{sec:DesignPrinciples} we present the main design principles and structure of the interface.
Section~\ref{sec:Interface} presents the interface components in detail.
In Section~\ref{sec:Example} we present an example of defining a new manifold,
and Section~\ref{sec:Usage} presents an overview of packages using \verb|ManifoldsBase.jl|.

\section{Mathematical Background}%
\label{sec:Notattion}

This section introduces the mathematical background and notation used throughout this paper,
for more details see, e.g. \cite{Lee:2003:1,AbsilMahonySepulchre:2008:1,DoCarmo:1992}.

A \term{manifold} \( \mathcal{M} \) is a topological space%
\footnote{we assume that the spaces we consider here are second countable and Hausdorff}
 that locally resembles Euclidean space $\mathbb R^n$, $n \in \mathbb N$.
To make this more precise, for every point \( p \in \mathcal{M} \), there exists a neighborhood \( \mathcal{U} \subseteq \mathcal{M} \)
and a homeomorphism \( \varphi\colon \mathcal{U} \to \mathbb{R}^n \).
The dimension of the manifold is defined as the dimension of the Euclidean space \( \mathbb{R}^n \). This can be interpreted as the number of degrees of freedom. The homeomorphism \( \varphi \) is called a \term{chart}, $\varphi(p)$
is called the \term{coordinates} of the point \( p \) in the chart \( \varphi \). A collection of charts $\varphi_i\colon \mathcal{U_i} \to \mathbb{R}^n$, $i \in \mathcal I$ for some index set \( \mathcal{I} \), that cover the manifold \( \mathcal{M} = \bigcup_i \mathcal{U}_i \) is called an \term{atlas}. If we can “smoothly change charts”, i.e. the transition maps \( \varphi_j \circ \varphi_i^{-1} \) are smooth\footnote{while one could consider different kinds of smoothness, $C^1$, $C^2$,..., for simplicity one usually just assumes $C^\infty$}, we say that the atlas \(\mathcal A\) is \term{smooth}.
A manifold \(\mathcal{M}\) together with a smooth atlas is called a \term{smooth manifold}.
Informally, a smooth manifold allows us to compute derivatives on the manifold
by “looking at it through a chart”. The smooth atlas then allows to argue, that this derivative is independent of the chosen chart.



\begin{figure}
    \centering
    \includegraphics[width=0.15\textwidth]{logo.png}
    \caption*{\ \\[-.5\baselineskip]Logo of \texttt{ManifoldsBase.jl}.}%
    \label{fig:manifoldsbase_logo}
\end{figure}

\section{Components and design principles of the interface}\label{sec:DesignPrinciples}

\subsection{Main types}

\subsection{General function design and a scheme of 3 layers}

\subsection{A trait system to avoid code duplication.}

\section{The interface}\label{sec:Interface}

\subsection{Topological functions}

\subsection{Metric and connection related functions}
\subsection{???}

\section{An example}\label{sec:Example}

\subsection{Defining an own manifold}

\subsection{Adding a second metric to an existin manifold}

\subsection{Implementing a generic algorithm on a manifold}

\section{Where the interface is used}\label{sec:Usage}
\begin{itemize}
    \item Manifolds.jl
    \item Manopt.jl \cite{Bergmann:2022}
    \item ManifoldDiff.jl
    \item ManifoldDiffEq.jl
    \item GeometricKalman.jl
    \item ExponentialFamilyManifolds.jl (Mykola) - and a second one he built on that?
    \item ROMe.jl (?)
\end{itemize}
\label{sec:Example}
\input{bib.tex}
\end{document}