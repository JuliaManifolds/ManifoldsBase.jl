<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Bases for tangent spaces ¬∑ ManifoldsBase.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img class="docs-light-only" src="assets/logo.png" alt="ManifoldsBase.jl logo"/><img class="docs-dark-only" src="assets/logo-dark.png" alt="ManifoldsBase.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">ManifoldsBase.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><a class="tocitem" href="example.html">How to write a manifold</a></li><li><a class="tocitem" href="design.html">Design principles</a></li><li><a class="tocitem" href="manifold_type.html">The manifold type</a></li><li><span class="tocitem">Functions on Maniolds</span><ul><li><a class="tocitem" href="functions.html">Basic functions</a></li><li><a class="tocitem" href="projections.html">Projections</a></li><li><a class="tocitem" href="retractions.html">Retractions</a></li><li><a class="tocitem" href="vector_transports.html">Vector Transports</a></li></ul></li><li><a class="tocitem" href="manifolds.html">Manifolds</a></li><li><a class="tocitem" href="decorator.html">Decorating/Extending a Manifold</a></li><li class="is-active"><a class="tocitem" href="bases.html">Bases for tangent spaces</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="bases.html">Bases for tangent spaces</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="bases.html">Bases for tangent spaces</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/master/docs/src/bases.md" title="Edit on GitHub"><span class="docs-icon fab">ÔÇõ</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Bases-for-tangent-spaces"><a class="docs-heading-anchor" href="#Bases-for-tangent-spaces">Bases for tangent spaces</a><a id="Bases-for-tangent-spaces-1"></a><a class="docs-heading-anchor-permalink" href="#Bases-for-tangent-spaces" title="Permalink"></a></h1><p>The following functions and types provide support for bases of the tangent space of different manifolds. Moreover, bases of the cotangent space are also supported, though this description focuses on the tangent space. An orthonormal basis of the tangent space <span>$T_p \mathcal M$</span> of (real) dimension <span>$n$</span> has a real-coefficient basis <span>$e_1, e_2, ‚Ä¶, e_n$</span> if <span>$\mathrm{Re}(g_p(e_i, e_j)) = Œ¥_{ij}$</span> for each <span>$i,j ‚àà \{1, 2, ‚Ä¶, n\}$</span> where <span>$g_p$</span> is the Riemannian metric at point <span>$p$</span>. A vector <span>$X$</span> from the tangent space <span>$T_p \mathcal M$</span> can be expressed in Einstein notation as a sum <span>$X = X^i e_i$</span>, where (real) coefficients <span>$X^i$</span> are calculated as <span>$X^i = \mathrm{Re}(g_p(X, e_i))$</span>.</p><p>The main types are:</p><ul><li><a href="bases.html#ManifoldsBase.DefaultOrthonormalBasis"><code>DefaultOrthonormalBasis</code></a>, which is designed to work when no special properties of the tangent space basis are required.  It is designed to make <a href="bases.html#ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_coordinates</code></a> and <a href="bases.html#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_vector</code></a> fast.</li><li><a href="bases.html#ManifoldsBase.DiagonalizingOrthonormalBasis"><code>DiagonalizingOrthonormalBasis</code></a>, which diagonalizes the curvature tensor and makes the curvature in the selected direction equal to 0.</li><li><a href="bases.html#ManifoldsBase.ProjectedOrthonormalBasis"><code>ProjectedOrthonormalBasis</code></a>, which projects a basis of the ambient space and orthonormalizes projections to obtain a basis in a generic way.</li><li><a href="bases.html#ManifoldsBase.CachedBasis"><code>CachedBasis</code></a>, which stores (explicitly or implicitly) a precomputed basis at a certain point.</li></ul><p>The main functions are:</p><ul><li><a href="bases.html#ManifoldsBase.get_basis-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>get_basis</code></a> precomputes a basis at a certain point.</li><li><a href="bases.html#ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_coordinates</code></a> returns coordinates of a tangent vector.</li><li><a href="bases.html#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_vector</code></a> returns a vector for the specified coordinates.</li><li><a href="bases.html#ManifoldsBase.get_vectors-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>get_vectors</code></a> returns a vector of basis vectors. Calling it should be avoided for high-dimensional manifolds.</li></ul><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.AbstractBasis" href="#ManifoldsBase.AbstractBasis"><code>ManifoldsBase.AbstractBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractBasis{ùîΩ,VST&lt;:VectorSpaceType}</code></pre><p>Abstract type that represents a basis of vector space of type <code>VST</code> on a manifold or a subset of it.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p><strong>See also</strong></p><p><a href="bases.html#ManifoldsBase.VectorSpaceType"><code>VectorSpaceType</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L37-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.AbstractOrthogonalBasis" href="#ManifoldsBase.AbstractOrthogonalBasis"><code>ManifoldsBase.AbstractOrthogonalBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractOrthogonalBasis{ùîΩ,VST&lt;:VectorSpaceType}</code></pre><p>Abstract type that represents an orthonormal basis of vector space of type <code>VST</code> on a manifold or a subset of it.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p><strong>See also</strong></p><p><a href="bases.html#ManifoldsBase.VectorSpaceType"><code>VectorSpaceType</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L78-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.AbstractOrthonormalBasis" href="#ManifoldsBase.AbstractOrthonormalBasis"><code>ManifoldsBase.AbstractOrthonormalBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractOrthonormalBasis{ùîΩ,VST&lt;:VectorSpaceType}</code></pre><p>Abstract type that represents an orthonormal basis of vector space of type <code>VST</code> on a manifold or a subset of it.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p><strong>See also</strong></p><p><a href="bases.html#ManifoldsBase.VectorSpaceType"><code>VectorSpaceType</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L123-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.CachedBasis" href="#ManifoldsBase.CachedBasis"><code>ManifoldsBase.CachedBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CachedBasis{ùîΩ,V,&lt;:AbstractBasis{ùîΩ}} &lt;: AbstractBasis{ùîΩ}</code></pre><p>A cached version of the given <code>basis</code> with precomputed basis vectors. The basis vectors are stored in <code>data</code>, either explicitly (like in cached variants of <a href="bases.html#ManifoldsBase.ProjectedOrthonormalBasis"><code>ProjectedOrthonormalBasis</code></a>) or implicitly.</p><p><strong>Constructor</strong></p><pre><code class="nohighlight hljs">CachedBasis(basis::AbstractBasis, data)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L229-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.DefaultBasis" href="#ManifoldsBase.DefaultBasis"><code>ManifoldsBase.DefaultBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DefaultBasis{ùîΩ,VST&lt;:VectorSpaceType}</code></pre><p>An arbitrary basis of vector space of type <code>VST</code> on a manifold. This will usually be the fastest basis available for a manifold.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p><strong>See also</strong></p><p><a href="bases.html#ManifoldsBase.VectorSpaceType"><code>VectorSpaceType</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L52-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.DefaultOrthogonalBasis" href="#ManifoldsBase.DefaultOrthogonalBasis"><code>ManifoldsBase.DefaultOrthogonalBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DefaultOrthogonalBasis{ùîΩ,VST&lt;:VectorSpaceType}</code></pre><p>An arbitrary orthogonal basis of vector space of type <code>VST</code> on a manifold. This will usually be the fastest orthogonal basis available for a manifold.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p><strong>See also</strong></p><p><a href="bases.html#ManifoldsBase.VectorSpaceType"><code>VectorSpaceType</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L93-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.DefaultOrthonormalBasis" href="#ManifoldsBase.DefaultOrthonormalBasis"><code>ManifoldsBase.DefaultOrthonormalBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DefaultOrthonormalBasis(ùîΩ::AbstractNumbers = ‚Ñù, vs::VectorSpaceType = TangentSpace)</code></pre><p>An arbitrary orthonormal basis of vector space of type <code>VST</code> on a manifold. This will usually be the fastest orthonormal basis available for a manifold.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p><strong>See also</strong></p><p><a href="bases.html#ManifoldsBase.VectorSpaceType"><code>VectorSpaceType</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L139-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.DiagonalizingOrthonormalBasis" href="#ManifoldsBase.DiagonalizingOrthonormalBasis"><code>ManifoldsBase.DiagonalizingOrthonormalBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DiagonalizingOrthonormalBasis{ùîΩ,TV} &lt;: AbstractOrthonormalBasis{ùîΩ,TangentSpaceType}</code></pre><p>An orthonormal basis <code>Œû</code> as a vector of tangent vectors (of length determined by <a href="functions.html#ManifoldsBase.manifold_dimension-Tuple{AbstractManifold}"><code>manifold_dimension</code></a>) in the tangent space that diagonalizes the curvature tensor <span>$R(u,v)w$</span> and where the direction <code>frame_direction</code> <span>$v$</span> has curvature <code>0</code>.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p><strong>Constructor</strong></p><pre><code class="nohighlight hljs">DiagonalizingOrthonormalBasis(frame_direction, ùîΩ::AbstractNumbers = ‚Ñù)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L200-L213">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.GramSchmidtOrthonormalBasis" href="#ManifoldsBase.GramSchmidtOrthonormalBasis"><code>ManifoldsBase.GramSchmidtOrthonormalBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GramSchmidtOrthonormalBasis{ùîΩ} &lt;: AbstractOrthonormalBasis{ùîΩ}</code></pre><p>An orthonormal basis obtained from a basis.</p><p><strong>Constructor</strong></p><pre><code class="nohighlight hljs">GramSchmidtOrthonormalBasis(ùîΩ::AbstractNumbers = ‚Ñù)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L189-L196">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.ProjectedOrthonormalBasis" href="#ManifoldsBase.ProjectedOrthonormalBasis"><code>ManifoldsBase.ProjectedOrthonormalBasis</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ProjectedOrthonormalBasis(method::Symbol, ùîΩ::AbstractNumbers = ‚Ñù)</code></pre><p>An orthonormal basis that comes from orthonormalization of basis vectors of the ambient space projected onto the subspace representing the tangent space at a given point.</p><p>The type parameter <code>ùîΩ</code> denotes the <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> that will be used for the vectors elements.</p><p>Available methods:</p><ul><li><code>:gram_schmidt</code> uses a modified Gram-Schmidt orthonormalization.</li><li><code>:svd</code> uses SVD decomposition to orthogonalize projected vectors. The SVD-based method should be more numerically stable at the cost of an additional assumption (local metric tensor at a point where the basis is calculated has to be diagonal).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L166-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.VectorSpaceType" href="#ManifoldsBase.VectorSpaceType"><code>ManifoldsBase.VectorSpaceType</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VectorSpaceType</code></pre><p>Abstract type for tangent spaces, cotangent spaces, their tensor products, exterior products, etc.</p><p>Every vector space <code>fiber</code> is supposed to provide:</p><ul><li>a method of constructing vectors,</li><li>basic operations: addition, subtraction, multiplication by a scalar and negation (unary minus),</li><li><code>zero_vector(fiber, p)</code> to construct zero vectors at point <code>p</code>,</li><li><code>allocate(X)</code> and <code>allocate(X, T)</code> for vector <code>X</code> and type <code>T</code>,</li><li><code>copyto!(X, Y)</code> for vectors <code>X</code> and <code>Y</code>,</li><li><code>number_eltype(v)</code> for vector <code>v</code>,</li><li><a href="bases.html#ManifoldsBase.vector_space_dimension-Tuple{AbstractManifold, ManifoldsBase.VectorSpaceType}"><code>vector_space_dimension</code></a>.</li></ul><p>Optionally:</p><ul><li>inner product via <code>inner</code> (used to provide Riemannian metric on vector bundles),</li><li><a href="https://juliamanifolds.github.io/Manifolds.jl/stable/features/atlases.html#Manifolds.flat-Tuple{AbstractManifold,%20Any,%20Any}"><code>flat</code></a> and <a href="https://juliamanifolds.github.io/Manifolds.jl/stable/features/atlases.html#Manifolds.sharp-Tuple{AbstractManifold,%20Any,%20Any}"><code>sharp</code></a>,</li><li><code>norm</code> (by default uses <code>inner</code>),</li><li><a href="manifolds.html#ManifoldsBase.project-Tuple{AbstractPowerManifold, Any, Any}"><code>project</code></a> (for embedded vector spaces),</li><li><a href="functions.html#ManifoldsBase.representation_size-Tuple{AbstractManifold}"><code>representation_size</code></a>,</li><li>broadcasting for basic operations.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.allocate_coordinates-Tuple{AbstractManifold, Any, Any, Int64}" href="#ManifoldsBase.allocate_coordinates-Tuple{AbstractManifold, Any, Any, Int64}"><code>ManifoldsBase.allocate_coordinates</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">allocate_coordinates(M::AbstractManifold, p, T, n::Int)</code></pre><p>Allocate vector of coordinates of length <code>n</code> of type <code>T</code> of a vector at point <code>p</code> on manifold <code>M</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L270-L275">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.allocation_promotion_function-Tuple{AbstractManifold, Any, Tuple}" href="#ManifoldsBase.allocation_promotion_function-Tuple{AbstractManifold, Any, Tuple}"><code>ManifoldsBase.allocation_promotion_function</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">allocation_promotion_function(M::AbstractManifold, f, args::Tuple)</code></pre><p>Determine the function that must be used to ensure that the allocated representation is of the right type. This is needed for <a href="bases.html#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_vector</code></a> when a point on a complex manifold is represented by a real-valued vectors with a real-coefficient basis, so that a complex-valued vector representation is allocated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L302-L309">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.dual_basis-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}" href="#ManifoldsBase.dual_basis-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>ManifoldsBase.dual_basis</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dual_basis(M::AbstractManifold, p, B::AbstractBasis)</code></pre><p>Get the dual basis to <code>B</code>, a basis of a vector space at point <code>p</code> from manifold <code>M</code>.</p><p>The dual to the <span>$i$</span>th vector <span>$v_i$</span> from basis <code>B</code> is a vector <span>$v^i$</span> from the dual space such that <span>$v^i(v_j) = Œ¥^i_j$</span>, where <span>$Œ¥^i_j$</span> is the Kronecker delta symbol:</p><p class="math-container">\[Œ¥^i_j = \begin{cases}
1 &amp; \text{ if } i=j, \\
0 &amp; \text{ otherwise.}
\end{cases}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L322-L335">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.get_basis-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}" href="#ManifoldsBase.get_basis-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>ManifoldsBase.get_basis</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_basis(M::AbstractManifold, p, B::AbstractBasis; kwargs...) -&gt; CachedBasis</code></pre><p>Compute the basis vectors of the tangent space at a point on manifold <code>M</code> represented by <code>p</code>.</p><p>Returned object derives from <a href="bases.html#ManifoldsBase.AbstractBasis"><code>AbstractBasis</code></a> and may have a field <code>.vectors</code> that stores tangent vectors or it may store them implicitly, in which case the function <a href="bases.html#ManifoldsBase.get_vectors-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>get_vectors</code></a> needs to be used to retrieve the basis vectors.</p><p>See also: <a href="bases.html#ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_coordinates</code></a>, <a href="bases.html#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_vector</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L366-L377">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}" href="#ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>ManifoldsBase.get_coordinates</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_coordinates(M::AbstractManifold, p, X, B::AbstractBasis)
get_coordinates(M::AbstractManifold, p, X, B::CachedBasis)</code></pre><p>Compute a one-dimensional vector of coefficients of the tangent vector <code>X</code> at point denoted by <code>p</code> on manifold <code>M</code> in basis <code>B</code>.</p><p>Depending on the basis, <code>p</code> may not directly represent a point on the manifold. For example if a basis transported along a curve is used, <code>p</code> may be the coordinate along the curve. If a <a href="bases.html#ManifoldsBase.CachedBasis"><code>CachedBasis</code></a> is provided, their stored vectors are used, otherwise the user has to provide a method to compute the coordinates.</p><p>For the <a href="bases.html#ManifoldsBase.CachedBasis"><code>CachedBasis</code></a> keep in mind that the reconstruction with <a href="bases.html#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_vector</code></a> requires either a dual basis or the cached basis to be selfdual, for example orthonormal</p><p>See also: <a href="bases.html#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_vector</code></a>, <a href="bases.html#ManifoldsBase.get_basis-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>get_basis</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L461-L477">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}" href="#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>ManifoldsBase.get_vector</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">X = get_vector(M::AbstractManifold, p, c, B::AbstractBasis)</code></pre><p>Convert a one-dimensional vector of coefficients in a basis <code>B</code> of the tangent space at <code>p</code> on manifold <code>M</code> to a tangent vector <code>X</code> at <code>p</code>.</p><p>Depending on the basis, <code>p</code> may not directly represent a point on the manifold. For example if a basis transported along a curve is used, <code>p</code> may be the coordinate along the curve.</p><p>For the <a href="bases.html#ManifoldsBase.CachedBasis"><code>CachedBasis</code></a> keep in mind that the reconstruction from <a href="bases.html#ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_coordinates</code></a> requires either a dual basis or the cached basis to be selfdual, for example orthonormal</p><p>See also: <a href="bases.html#ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_coordinates</code></a>, <a href="bases.html#ManifoldsBase.get_basis-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>get_basis</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L610-L624">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.get_vectors-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}" href="#ManifoldsBase.get_vectors-Tuple{AbstractManifold, Any, ManifoldsBase.AbstractBasis}"><code>ManifoldsBase.get_vectors</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_vectors(M::AbstractManifold, p, B::AbstractBasis)</code></pre><p>Get the basis vectors of basis <code>B</code> of the tangent space at point <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L754-L758">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.gram_schmidt-Union{Tuple{ùîΩ}, Tuple{AbstractManifold{ùîΩ}, Any, ManifoldsBase.AbstractBasis{ùîΩ}}} where ùîΩ" href="#ManifoldsBase.gram_schmidt-Union{Tuple{ùîΩ}, Tuple{AbstractManifold{ùîΩ}, Any, ManifoldsBase.AbstractBasis{ùîΩ}}} where ùîΩ"><code>ManifoldsBase.gram_schmidt</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gram_schmidt(M::AbstractManifold{ùîΩ}, p, B::AbstractBasis{ùîΩ}) where {ùîΩ}
gram_schmidt(M::AbstractManifold, p, V::AbstractVector)</code></pre><p>Compute an ONB in the tangent space at <code>p</code> on the [<code>AbstractManifold</code>](@ref} <code>M</code> from either an <a href="bases.html#ManifoldsBase.AbstractBasis"><code>AbstractBasis</code></a> basis ¬¥B¬¥ or a set of (at most) <a href="functions.html#ManifoldsBase.manifold_dimension-Tuple{AbstractManifold}"><code>manifold_dimension</code></a><code>(M)</code> many vectors. Note that this method requires the manifold and basis to work on the same <a href="manifold_type.html#ManifoldsBase.AbstractNumbers"><code>AbstractNumbers</code></a> <code>ùîΩ</code>, i.e. with real coefficients.</p><p>The method always returns a basis, i.e. linearly dependent vectors are removed.</p><p><strong>Keyword arguments</strong></p><ul><li><code>warn_linearly_dependent</code> (<code>false</code>) ‚Äì warn if the basis vectors are not linearly independent</li><li><code>skip_linearly_dependent</code> (<code>false</code>) ‚Äì whether to just skip (<code>true</code>) a vector that is linearly dependent to the previous ones or to stop (<code>false</code>, default) at that point</li><li><code>return_incomplete_set</code> (<code>false</code>) ‚Äì throw an error if the resulting set of vectors is not a basis but contains less vectors</li></ul><p>further keyword arguments can be passed to set the accuracy of the independence test. Especially <code>atol</code> is raised slightly by default to <code>atol = 5*1e-16</code>.</p><p><strong>Return value</strong></p><p>When a set of vectors is orthonormalized a set of vectors is returned. When an <a href="bases.html#ManifoldsBase.AbstractBasis"><code>AbstractBasis</code></a> is orthonormalized, a <a href="bases.html#ManifoldsBase.CachedBasis"><code>CachedBasis</code></a> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L770-L798">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.hat-Tuple{AbstractManifold, Any, Any}" href="#ManifoldsBase.hat-Tuple{AbstractManifold, Any, Any}"><code>ManifoldsBase.hat</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hat(M::AbstractManifold, p, X‚Å±)</code></pre><p>Given a basis <span>$e_i$</span> on the tangent space at a point <code>p</code> and tangent component vector <span>$X^i$</span>, compute the equivalent vector representation <span>$X=X^i e_i$</span>, where Einstein summation notation is used:</p><p class="math-container">\[‚àß : X^i ‚Ü¶ X^i e_i\]</p><p>For array manifolds, this converts a vector representation of the tangent vector to an array representation. The <a href="bases.html#ManifoldsBase.vee-Tuple{AbstractManifold, Any, Any}"><code>vee</code></a> map is the <code>hat</code> map&#39;s inverse.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L866-L880">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.number_of_coordinates-Union{Tuple{ùîæ}, Tuple{ùîΩ}, Tuple{AbstractManifold{ùîΩ}, ManifoldsBase.AbstractBasis{ùîæ}}} where {ùîΩ, ùîæ}" href="#ManifoldsBase.number_of_coordinates-Union{Tuple{ùîæ}, Tuple{ùîΩ}, Tuple{AbstractManifold{ùîΩ}, ManifoldsBase.AbstractBasis{ùîæ}}} where {ùîΩ, ùîæ}"><code>ManifoldsBase.number_of_coordinates</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">number_of_coordinates(M::AbstractManifold{ùîΩ}, B::AbstractBasis)
number_of_coordinates(M::AbstractManifold{ùîΩ}, ::ùîæ)</code></pre><p>Compute the number of coordinates in basis of field type <code>ùîæ</code> on a manifold <code>M</code>. This also corresponds to the number of vectors represented by <code>B</code>, or stored within <code>B</code> in case of a <a href="bases.html#ManifoldsBase.CachedBasis"><code>CachedBasis</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L884-L891">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.number_system-Union{Tuple{ManifoldsBase.AbstractBasis{ùîΩ}}, Tuple{ùîΩ}} where ùîΩ" href="#ManifoldsBase.number_system-Union{Tuple{ManifoldsBase.AbstractBasis{ùîΩ}}, Tuple{ùîΩ}} where ùîΩ"><code>ManifoldsBase.number_system</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">number_system(::AbstractBasis)</code></pre><p>The number system for the vectors of the given basis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L901-L905">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.vee-Tuple{AbstractManifold, Any, Any}" href="#ManifoldsBase.vee-Tuple{AbstractManifold, Any, Any}"><code>ManifoldsBase.vee</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">vee(M::AbstractManifold, p, X)</code></pre><p>Given a basis <span>$e_i$</span> on the tangent space at a point <code>p</code> and tangent vector <code>X</code>, compute the vector components <span>$X^i$</span>, such that <span>$X = X^i e_i$</span>, where Einstein summation notation is used:</p><p class="math-container">\[\vee : X^i e_i ‚Ü¶ X^i\]</p><p>For array manifolds, this converts an array representation of the tangent vector to a vector representation. The <a href="bases.html#ManifoldsBase.hat-Tuple{AbstractManifold, Any, Any}"><code>hat</code></a> map is the <code>vee</code> map&#39;s inverse.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/bases.jl#L991-L1005">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.AbstractFibreVector" href="#ManifoldsBase.AbstractFibreVector"><code>ManifoldsBase.AbstractFibreVector</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractFibreVector{TType&lt;:VectorSpaceType}</code></pre><p>Type for a vector from a vector space (fibre of a vector bundle) of type <code>TType</code> of a manifold. While a <a href="manifold_type.html#ManifoldsBase.AbstractManifold"><code>AbstractManifold</code></a> does not necessarily require this type, for example when it is implemented for <code>Vector</code>s or <code>Matrix</code> type elements, this type can be used for more complicated representations, semantic verification, or even dispatch for different representations of tangent vectors and their types on a manifold.</p><p>You may use macro <a href="manifold_type.html#ManifoldsBase.@manifold_vector_forwards-Tuple{Any, Symbol}"><code>@manifold_vector_forwards</code></a> to introduce commonly used method definitions for your subtype of <code>AbstractFibreVector</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/vector_spaces.jl#L70-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.CoTVector" href="#ManifoldsBase.CoTVector"><code>ManifoldsBase.CoTVector</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CoTVector = AbstractFibreVector{CotangentSpaceType}</code></pre><p>Type for a cotangent vector of a manifold. While a <a href="manifold_type.html#ManifoldsBase.AbstractManifold"><code>AbstractManifold</code></a> does not necessarily require this type, for example when it is implemented for <code>Vector</code>s or <code>Matrix</code> type elements, this type can be used for more complicated representations, semantic verification, or even dispatch for different representations of cotangent vectors and their types on a manifold.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/vector_spaces.jl#L95-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.FVector" href="#ManifoldsBase.FVector"><code>ManifoldsBase.FVector</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FVector(type::VectorSpaceType, data, basis::AbstractBasis)</code></pre><p>Decorator indicating that the vector <code>data</code> contains coordinates of a vector from a fiber of a vector bundle of type <code>type</code>. <code>basis</code> is an object describing the basis of that space in which the coordinates are given.</p><p>Conversion between <code>FVector</code> representation and the default representation of an object (for example a tangent vector) for a manifold should be done using <a href="bases.html#ManifoldsBase.get_coordinates-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_coordinates</code></a> and <a href="bases.html#ManifoldsBase.get_vector-Tuple{AbstractManifold, Any, Any, ManifoldsBase.AbstractBasis}"><code>get_vector</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using Manifolds

julia&gt; M = Sphere(2)
Sphere(2, ‚Ñù)

julia&gt; p = [1.0, 0.0, 0.0]
3-element Vector{Float64}:
 1.0
 0.0
 0.0

julia&gt; X = [0.0, 2.0, -1.0]
3-element Vector{Float64}:
  0.0
  2.0
 -1.0

julia&gt; B = DefaultOrthonormalBasis()
DefaultOrthonormalBasis(‚Ñù)

julia&gt; fX = TFVector(get_coordinates(M, p, X, B), B)
TFVector([2.0, -1.0], DefaultOrthonormalBasis(‚Ñù))

julia&gt; X_back = get_vector(M, p, fX.data, fX.basis)
3-element Vector{Float64}:
 -0.0
  2.0
 -1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/vector_spaces.jl#L2-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.TVector" href="#ManifoldsBase.TVector"><code>ManifoldsBase.TVector</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TVector = AbstractFibreVector{TangentSpaceType}</code></pre><p>Type for a tangent vector of a manifold. While a <a href="manifold_type.html#ManifoldsBase.AbstractManifold"><code>AbstractManifold</code></a> does not necessarily require this type, for example when it is implemented for <code>Vector</code>s or <code>Matrix</code> type elements, this type can be used for more complicated representations, semantic verification, or even dispatch for different representations of tangent vectors and their types on a manifold.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/vector_spaces.jl#L84-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ManifoldsBase.vector_space_dimension-Tuple{AbstractManifold, ManifoldsBase.VectorSpaceType}" href="#ManifoldsBase.vector_space_dimension-Tuple{AbstractManifold, ManifoldsBase.VectorSpaceType}"><code>ManifoldsBase.vector_space_dimension</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">vector_space_dimension(M::AbstractManifold, V::VectorSpaceType)</code></pre><p>Dimension of the vector space of type <code>V</code> on manifold <code>M</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/6927247b702085c6404efb3e08dda96b4f26faed/src/vector_spaces.jl#L131-L135">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="decorator.html">¬´ Decorating/Extending a Manifold</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Friday 18 March 2022 19:21">Friday 18 March 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
